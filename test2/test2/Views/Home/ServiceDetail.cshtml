

@model test2.Models.ServiceViewModel
@{
    ViewBag.Title = "Detail";



    Layout = "~/Views/Shared/Layout_new.cshtml";
}

<style>
    .doctor-action a + a {
        margin-left: -10px;
    }
</style>

<div class="breadcrumb-bar">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-md-12 col-12">
                <nav aria-label="breadcrumb" class="page-breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Service Detail</li>
                    </ol>
                </nav>
                <h2 class="breadcrumb-title">Service Detail</h2>
            </div>
        </div>
    </div>
</div>

<div class="content">
    <div class="container">
        <div class="card">
            <div class="card-body">
                <div class="doctor-widget">
                    <div class="doc-info-left">
                        <div class="doctor-img">
                            <img src="@Model.SpecialtyImg" class="img-fluid" alt="User Image">
                        </div>
                        <div class="doc-info-cont">
                            <h4 class="doc-name">@Model.SpecialtyName</h4>
                            <p class="doc-speciality">@Model.ShortDescription</p>
                            <p class="doc-department"> </p>
                            <div class="rating">
                                @for (int i = 0; i < 5; i++)



                                {
                                    <i class="fas fa-star @(i < Model.AverageRating ? "filled" : "")"></i>
                                }
                                <span class="d-inline-block average-rating">(@Model.TotalReviews)</span>
                            </div>
                            <div class="clinic-details">
                                <p class="doc-location"><i class="fas fa-map-marker-alt"></i> Đà Nẵng</p>
                                <ul class="clinic-gallery">
                                    <li>
                                        <a href="~/Content/theme/img/features/feature-01.jpg" data-fancybox="gallery">
                                            <img src="~/Content/theme/img/features/feature-01.jpg" alt="Feature">
                                        </a>
                                    </li>
                                    <li>
                                        <a href="~/Content/theme/img/features/feature-02.jpg" data-fancybox="gallery">
                                            <img src="~/Content/theme/img/features/feature-02.jpg" alt="Feature Image">
                                        </a>
                                    </li>
                                    <li>
                                        <a href="~/Content/theme/img/features/feature-03.jpg" data-fancybox="gallery">
                                            <img src="~/Content/theme/img/features/feature-03.jpg" alt="Feature">
                                        </a>
                                    </li>
                                    <li>
                                        <a href="~/Content/theme/img/features/feature-04.jpg" data-fancybox="gallery">
                                            <img src="~/Content/theme/img/features/feature-04.jpg" alt="Feature">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="doc-info-right">
                        <div class="clini-infos">
                            <ul>
                                <li><i class="far fa-thumbs-up"></i> @Math.Round(Model.AverageRating * 20, 2).ToString("F2")%</li>
                                <li><i class="far fa-comment"></i> @Model.TotalReviews Feedback</li>
                                <li><i class="fas fa-map-marker-alt"></i> Đà Nẵng</li>
                            </ul>
                        </div>
                        <div class="doctor-action">
                            <a href="javascript:void(0)" class="btn btn-white fav-btn">
                                <i class="far fa-bookmark"></i>
                            </a>
                            <a href="chat.html" class="btn btn-white msg-btn">
                                <i class="far fa-comment-alt"></i>
                            </a>
                            <a href="javascript:void(0)" class="btn btn-white call-btn" data-toggle="modal" data-target="#voice_call">
                                <i class="fas fa-phone"></i>
                            </a>
                            <a href="javascript:void(0)" class="btn btn-white call-btn" data-toggle="modal" data-target="#video_call">
                                <i class="fas fa-video"></i>
                            </a>
                        </div>
                        <div class="clinic-booking">
                            <a class="apt-btn" href="javascript:void(0)" onclick="bookNow('@Model.SpecialtyId')">Book Appointment</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-body pt-0">

                <nav class="user-tabs mb-4">
                    <ul class="nav nav-tabs nav-tabs-bottom nav-justified">
                        <li class="nav-item">
                            <a class="nav-link active" href="#doc_overview" data-toggle="tab">Overview</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#doc_locations" data-toggle="tab">Doctor</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#doc_reviews" data-toggle="tab">Reviews</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#doc_business_hours" data-toggle="tab">Business Hours</a>
                        </li>
                    </ul>
                </nav>

                <div class="tab-content pt-0">

                    <div role="tabpanel" id="doc_overview" class="tab-pane fade show active">
                        <div class="row">
                            <div class="col-md-12 col-lg-9">

                                <div class="widget about-widget">
                                    <h4 class="widget-title">Về Chuyên Khoa: </h4>
                                    <p> @Model.ShortDescription</p>
                                </div>

                                <div class="widget education-widget">
                                    <h4 class="widget-title">Chi tiết</h4>
                                    <div class="experience-box">
                                        <ul class="experience-list">
                                            @foreach (var detail in Model.DetailSpecialties)



                                            {
                                                <li>
                                                    <div class="experience-user">
                                                        <div class="before-circle"></div>
                                                    </div>
                                                    <div class="experience-content">
                                                        <div class="timeline-content">
                                                            <h4 class="exp-title">@detail.Title</h4>
                                                            <p>@detail.Content</p>
                                                        </div>
                                                    </div>
                                                </li>
                                            }

                                        </ul>
                                    </div>
                                </div>
                          
                            </div>
                        </div>
                    </div>

                    <div role="tabpanel" id="doc_locations" class="tab-pane fade">
                        @if (Model.Doctors.Any())

                        {

                            foreach (var doctor in Model.Doctors)

                            {
                                <div class="location-list">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="clinic-content">
                                                <h4 class="clinic-name">
                                                    <a asp-controller="Home" asp-action="DoctorDetail" asp-route-id="@doctor.Did">@doctor.Name</a>
                                                </h4>
                                                <p class="doc-speciality">@doctor.Position</p>
                                                <p class="doc-description">@doctor.Description</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                        }

                        else

                        {
                            <p>Không có bác sĩ nào trong specialty này.</p>
                        }
                    </div>

                    <div role="tabpanel" id="doc_reviews" class="tab-pane fade">
                        <div class="widget review-listing">
                            <ul class="comments-list">
                                @if (Model.Feedbacks != null && Model.Feedbacks.Any())

                                {

                                    foreach (var feedback in Model.Feedbacks)

                                    {
                                        <li>
                                            <div class="comment">
                                                <img class="avatar avatar-sm rounded-circle" alt="User Image"
                                                     src="@(string.IsNullOrEmpty(feedback.PidNavigation?.PatientImg) ? Url.Content("https://tse1.mm.bing.net/th?id=OIP.zP1mlHnV1bpgODW8gvQSFQHaIP&pid=Api&P=0&h=180") : feedback.PidNavigation.PatientImg)">
                                                <div class="comment-body">
                                                    <div class="meta-data">
                                                        <span class="comment-author">@feedback.Name</span>
                                                        <span class="comment-date">@feedback.DateCmt?.ToString("d")</span>
                                                        <div class="review-count rating">
                                                            @for (int i = 0; i < (feedback.Star ?? 0); i++)

                                                            {
                                                                <i class="fas fa-star filled"></i>
                                                            }
                                                            @for (int i = (feedback.Star ?? 0); i < 5; i++)

                                                            {
                                                                <i class="fas fa-star"></i>
                                                            }
                                                        </div>
                                                    </div>
                                                    <p class="comment-content">
                                                        @feedback.Description
                                                    </p>
                                                    <div class="comment-reply">
                                                        <a class="comment-btn" href="#">
                                                            <i class="fas fa-reply"></i> Reply
                                                        </a>
                                                        <p class="recommend-btn">
                                                            <span>Recommend?</span>
                                                            <a href="#" class="like-btn">
                                                                <i class="far fa-thumbs-up"></i> Yes
                                                            </a>
                                                            <a href="#" class="dislike-btn">
                                                                <i class="far fa-thumbs-down"></i> No
                                                            </a>
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    }

                                }

                                else

                                {
                                    <li>
                                        <p>Chưa có đánh giá nào.</p>
                                    </li>
                                }
                            </ul>

                            <div class="all-feedback text-center">
                                <a href="#" class="btn btn-primary btn-sm">
                                    Show all feedback <strong>(@Model.TotalReviews)</strong>
                                </a>
                            </div>
                        </div>

                        <div class="write-review">
                            <h4>Write a review for <strong>@Model.SpecialtyName</strong></h4>

                            <form>
                                <div class="form-group">
                                    <label>Review</label>
                                    <div class="star-rating">
                                        <input id="star-5" type="radio" name="rating" value="5">
                                        <label for="star-5" title="5 stars">
                                            <i class="active fa fa-star"></i>
                                        </label>
                                        <input id="star-4" type="radio" name="rating" value="4">
                                        <label for="star-4" title="4 stars">
                                            <i class="active fa fa-star"></i>
                                        </label>
                                        <input id="star-3" type="radio" name="rating" value="3">
                                        <label for="star-3" title="3 stars">
                                            <i class="active fa fa-star"></i>
                                        </label>
                                        <input id="star-2" type="radio" name="rating" value="2">
                                        <label for="star-2" title="2 stars">
                                            <i class="active fa fa-star"></i>
                                        </label>
                                        <input id="star-1" type="radio" name="rating" value="1">
                                        <label for="star-1" title="1 star">
                                            <i class="active fa fa-star"></i>
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Title of your review</label>
                                    <input class="form-control" type="text" placeholder="If you could say it in one sentence, what would you say?">
                                </div>
                                <div class="form-group">
                                    <label>Your review</label>
                                    <textarea id="review_desc" maxlength="100" class="form-control"></textarea>
                                    <div class="d-flex justify-content-between mt-3"><small class="text-muted"><span id="chars">100</span> characters remaining</small></div>
                                </div>
                                <hr>
                                <div class="form-group">
                                    <div class="terms-accept">
                                        <div class="custom-checkbox">
                                            <input type="checkbox" id="terms_accept">
                                            <label for="terms_accept">I have read and accept <a href="#">Terms &amp; Conditions</a></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="submit-section">
                                    <button type="submit" class="btn btn-primary submit-btn">Add Review</button>
                                </div>
                            </form>
                        </div>
                    </div>



                    <div role="tabpanel" id="doc_business_hours" class="tab-pane fade">
                        <div class="row">
                            <div class="col-md-6 offset-md-3">

                                <div class="widget business-widget">
                                    <div class="widget-content">
                                        <div class="listing-hours">
                                            <div class="listing-day current">
                                                <div class="day">Today <span>@DateTime.Now.ToString("dd/MM/yyyy")</span></div>
                                                <div class="time-items">
                                                    <span class="open-status"><span class="badge bg-success-light">Open Now</span></span>
                                                    <span class="time">07:00 AM - 09:00 PM</span>
                                                </div>
                                            </div>
                                            <div class="listing-day">
                                                <div class="day">Wednesday</div>
                                                <div class="time-items">
                                                    <span class="time">08:00 AM - 05:00 PM</span>
                                                </div>
                                            </div>
                                            <div class="listing-day">
                                                <div class="day">Thursday</div>
                                                <div class="time-items">
                                                    <span class="time">07:00 AM - 05:00 PM</span>
                                                </div>
                                            </div>
                                            <div class="listing-day">
                                                <div class="day">Friday</div>
                                                <div class="time-items">
                                                    <span class="time">07:00 AM - 05:00 PM</span>
                                                </div>
                                            </div>
                                            <div class="listing-day">
                                                <div class="day">Saturday</div>
                                                <div class="time-items">
                                                    <span class="time">07:00 AM - 05:00 PM</span>
                                                </div>
                                            </div>
                                            <div class="listing-day" closed>
                                                <div class="day">Sunday</div>
                                                <div class="time-items">
                                                    <span class="time"><span class="badge bg-danger-light">Closed</span></span>
                                                </div>
                                            </div>
                                            <div class="listing-day">
                                                <div class="day">Monday</div>
                                                <div class="time-items">
                                                    <span class="time">07:00 AM - 05:00 PM</span>
                                                </div>
                                            </div>
                                            <div class="listing-day ">
                                                <div class="day">Tuesday</div>
                                                <div class="time-items">
                                                    <span class="time">07:00 AM - 05:00 PM</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>